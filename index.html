<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fun Lines</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .line {
            padding: 12px;
            border-bottom: 1px solid #d1d5db;
            transition: all 0.3s ease;
            cursor: pointer;
            user-select: none;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .line:hover {
            background-color: #f3f4f6;
            transform: scale(1.02);
        }
        .highlight {
            background-color: #fef3c7;
            font-weight: bold;
        }
        .hidden {
            display: none;
        }
        .btn {
            padding: 8px 16px;
            border-radius: 4px;
            font-weight: bold;
            transition: all 0.3s;
            background-color: #007bff;
            color: white;
            border: 1px solid #007bff;
        }
        .btn:hover {
            background-color: #0056b3;
            border-color: #0056b3;
            transform: scale(1.05);
        }
        .progress-bar {
            height: 8px;
            background-color: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
        }
        .progress {
            height: 100%;
            background-color: #10b981;
            width: 0;
            transition: width 0.3s ease;
        }
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .tooltip {
            position: relative;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 120px;
            background-color: #374151;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        .animated-icon {
            font-size: 1.5rem;
            margin-left: 10px;
            animation: bounce 1s infinite;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.5);
        }
        .modal-content {
            background-color: #fff;
            margin: 15% auto;
            padding: 20px;
            border-radius: 8px;
            width: 80%;
            max-width: 500px;
            position: relative;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            opacity: 0;
            transform: translateY(-20px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        .modal-content.show {
            opacity: 1;
            transform: translateY(0);
        }
        .fact-box {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            padding: 15px;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        .fact-box.show {
            opacity: 1;
            transform: translateY(0);
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans text-gray-900">
    <!-- Navbar -->
    <nav class="bg-white text-gray-900 p-4 sticky top-0 z-50 shadow-md">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-bold">Fun Lines</h1>
            <ul class="flex space-x-4 text-lg">
                <li><a href="#content" class="hover:text-blue-600">Explore</a></li>
                <li><a href="#about" class="hover:text-blue-600">About</a></li>
                <li><a href="#contact" class="hover:text-blue-600">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="h-screen flex items-center justify-center text-white text-center shadow-xl" id="hero">
        <div>
            <h2 class="text-5xl font-bold">Fun Interactive Experience</h2>
            <p class="mt-4 text-xl">Scroll down to explore 500+ lines of engaging content!</p>
        </div>
    </section>

    <!-- Interactive 500 Lines -->
    <section id="content" class="container mx-auto p-12">
        <h2 class="text-3xl font-semibold text-center mb-6">Scroll to Discover</h2>
        <div class="progress-bar mb-4">
            <div id="progress" class="progress"></div>
        </div>
        <div id="lines-container" class="bg-white shadow-lg p-6 overflow-auto h-[60vh] border rounded-lg no-scrollbar"></div>
    </section>

    <!-- Modal Structure -->
    <div id="modal" class="modal">
        <div id="modal-content" class="modal-content">
            <span class="close">&times;</span>
            <p id="modal-text"></p>
            <input type="text" id="modal-input" class="hidden border p-2 mt-4 w-full rounded">
        </div>
    </div>

    <!-- Fact Box -->
    <div id="fact-box" class="fact-box">
        <span class="close">&times;</span>
        <p id="fact-text"></p>
    </div>

    <script>
        const container = document.getElementById("lines-container");
        const progressBar = document.getElementById("progress");
        const modal = document.getElementById("modal");
        const modalContent = document.getElementById("modal-content");
        const modalText = document.getElementById("modal-text");
        const modalInput = document.getElementById("modal-input");
        const closeModal = document.getElementsByClassName("close")[0];
        const factBox = document.getElementById("fact-box");
        const factText = document.getElementById("fact-text");
        const closeFactBox = factBox.getElementsByClassName("close")[0];
        const heroSection = document.getElementById("hero");

        const secrets = ["Hidden Treasure!", "Secret Code: 42", "Easter Egg Found!", "Lucky Number: 7", "Bonus Points!", "Mystery Solved!", "Hidden Feature Unlocked!", "You've Discovered Magic!", "Special Message!", "Golden Line!"];
        const facts = ["The shortest war in history lasted 38 minutes.", "A day on Venus is longer than a year on Venus.", "Honey never spoils.", "Bananas are slightly radioactive.", "Cows have best friends."];
        const jokes = ["Why don't scientists trust atoms? Because they make up everything!", "What do you call fake spaghetti? An impasta.", "How does the moon cut his hair? Eclipse it.", "What do you call a can opener that doesn't work? A can't opener.", "How many tickles does it take to make an octopus laugh? Ten-tickles."];
        const quotes = ["The only way to do great work is to love what you do. â€” Steve Jobs", "In three words I can sum up everything I've learned about life: it goes on. â€” Robert Frost", "The purpose of our lives is to be happy. â€” Dalai Lama", "Life is what happens when you're busy making other plans. â€” John Lennon", "Get busy living or get busy dying. â€” Stephen King"];

        function loadLines() {
            for (let i = 1; i <= 500; i++) {
                const line = document.createElement("div");
                line.className = "line";
                line.innerHTML = `Line ${i} <button class='btn' onclick='handleLineClick(${i})'>Click</button>`;
                line.style.fontSize = `${Math.random() * 6 + 14}px`;
                line.draggable = true;

                if (Math.random() < 0.02) {
                    line.onclick = () => {
                        showFactBox(secrets[Math.floor(Math.random() * secrets.length)]);
                    };
                } else if (Math.random() < 0.05) {
                    line.innerHTML += ` <span class="animated-icon">ðŸŽ‰</span>`;
                } else if (Math.random() < 0.05) {
                    line.onclick = () => {
                        showFactBox(facts[Math.floor(Math.random() * facts.length)]);
                    };
                } else if (Math.random() < 0.05) {
                    line.onclick = () => {
                        showFactBox(jokes[Math.floor(Math.random() * jokes.length)]);
                    };
                } else if (Math.random() < 0.05) {
                    line.onclick = () => {
                        showFactBox(quotes[Math.floor(Math.random() * quotes.length)]);
                    };
                } else if (Math.random() < 0.05) {
                    line.onclick = () => {
                        showModalWithInput("What is the capital of France?", (answer) => {
                            if (answer.toLowerCase() === "paris") {
                                showFactBox("Correct!");
                            } else {
                                showFactBox("Wrong! The capital of France is Paris.");
                            }
                        });
                    };
                }

                container.appendChild(line);
            }
        }

        container.addEventListener("scroll", () => {
            const scrollPercentage = (container.scrollTop / (container.scrollHeight - container.clientHeight)) * 100;
            progressBar.style.width = `${scrollPercentage}%`;
        });

        function handleLineClick(lineNumber) {
            const line = container.children[lineNumber - 1];
            line.style.backgroundColor = getRandomColor();
            line.style.color = "white";
            line.querySelector("button").innerText = "Clicked!";
        }

        function getRandomColor() {
            const letters = "0123456789ABCDEF";
            let color = "#";
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }

        function showModal(message) {
            modalText.textContent = message;
            modalInput.classList.add("hidden");
            modal.style.display = "block";
            modalContent.classList.add("show");
        }

        function showModalWithInput(question, callback) {
            modalText.textContent = question;
            modalInput.classList.remove("hidden");
            modalInput.value = "";
            modalInput.focus();
            modal.style.display = "block";
            modalContent.classList.add("show");

            modalInput.onkeydown = (event) => {
                if (event.key === "Enter") {
                    modal.style.display = "none";
                    modalContent.classList.remove("show");
                    callback(modalInput.value);
                }
            };
        }

        function showFactBox(message) {
            factText.textContent = message;
            factBox.classList.add("show");
        }

        closeModal.onclick = () => {
            modal.style.display = "none";
            modalContent.classList.remove("show");
        };

        closeFactBox.onclick = () => {
            factBox.classList.remove("show");
        };

        window.onclick = (event) => {
            if (event.target == modal) {
                modal.style.display = "none";
                modalContent.classList.remove("show");
            }
            if (event.target == factBox) {
                factBox.classList.remove("show");
            }
        };

        function setRandomGradient() {
            const color1 = getRandomColor();
            const color2 = getRandomColor();
            const color3 = getRandomColor();
            heroSection.style.background = `linear-gradient(to right, ${color1}, ${color2}, ${color3})`;
        }

        // Load lines progressively
        loadLines();
        setRandomGradient();
    </script>
</body>
</html>
